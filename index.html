
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fading + Scrolling Sports Ticker</title>
<style>
  body {
    margin: 0; background: #111; color: white; font-family: Arial, sans-serif;
    overflow: hidden;
  }
  #ticker {
    position: relative;
    height: 70px;
    border-top: 2px solid #444;
    border-bottom: 2px solid #444;
    overflow: hidden;
    padding: 0 20px;
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 18px;
  }
  .section {
    position: absolute;
    width: 100%;
    top: 0;
    left: 0;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    white-space: nowrap;
    overflow: hidden;
  }
  .section.active {
    opacity: 1;
    position: relative;
  }
  .label {
    font-weight: 900;
    color: #0af;
    margin-right: 15px;
    flex-shrink: 0;
  }
  .scrolling-content {
    display: inline-block;
    white-space: nowrap;
    will-change: transform;
  }
  .headline-item, .score-item, .bet-item {
    display: inline-block;
    margin-right: 40px;
  }
  .scores, .bets {
    margin-top: 5px;
    font-weight: normal;
    font-size: 14px;
    color: #ddd;
  }
</style>
</head>
<body>
<div id="ticker">
  <div id="section-nba" class="section active">
    <span class="label">NBA</span>
    <div class="scrolling-content headlines"></div>
    <div class="scrolling-content scores"></div>
    <div class="scrolling-content bets"></div>
  </div>
  <div id="section-nfl" class="section">
    <span class="label">NFL</span>
    <div class="scrolling-content headlines"></div>
    <div class="scrolling-content scores"></div>
    <div class="scrolling-content bets"></div>
  </div>
  <div id="section-mlb" class="section">
    <span class="label">MLB</span>
    <div class="scrolling-content headlines"></div>
    <div class="scrolling-content scores"></div>
    <div class="scrolling-content bets"></div>
  </div>
  <div id="section-nhl" class="section">
    <span class="label">NHL</span>
    <div class="scrolling-content headlines"></div>
    <div class="scrolling-content scores"></div>
    <div class="scrolling-content bets"></div>
  </div>
</div>

<script>
  const sports = [
    {
      id: 'nba',
      rss: 'https://www.espn.com/espn/rss/nba/news',
      scores: [
        "Lakers 102 - Celtics 99 (Final)",
        "Bucks 110 - Nets 115 (OT)"
      ],
      bets: [
        "Lakers -3.5 vs Celtics",
        "Bucks +4 vs Nets"
      ]
    },
    {
      id: 'nfl',
      rss: 'https://www.espn.com/espn/rss/nfl/news',
      scores: [
        "Packers 24 - Bears 21 (Final)",
        "Cowboys 28 - Giants 27 (Final)"
      ],
      bets: [
        "Packers -2.5 vs Bears",
        "Cowboys ML vs Giants"
      ]
    },
    {
      id: 'mlb',
      rss: 'https://www.espn.com/espn/rss/mlb/news',
      scores: [
        "Yankees 5 - Red Sox 3 (Final)",
        "Dodgers 7 - Giants 6 (Final)"
      ],
      bets: [
        "Yankees ML vs Red Sox",
        "Dodgers -1.5 vs Giants"
      ]
    },
    {
      id: 'nhl',
      rss: 'https://www.espn.com/espn/rss/nhl/news',
      scores: [
        "Penguins 3 - Capitals 2 (Final)",
        "Bruins 4 - Flyers 1 (Final)"
      ],
      bets: [
        "Penguins vs Capitals Over 5.5",
        "Bruins ML vs Flyers"
      ]
    }
  ];

  // Fetch headlines helper
  async function fetchHeadlines(rssUrl) {
    try {
      const res = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(rssUrl)}`);
      const dataText = await res.text();
      const json = JSON.parse(dataText);
      const data = JSON.parse(json.contents);
      if (!data.items) throw new Error('Failed to fetch RSS');
      return data.items.slice(0, 10).map(item => item.title);
    } catch (e) {
      console.error(e);
      return ['Failed to load news.'];
    }
  }

  // Fill content for each sport section
  async function fillSections() {
    for (const sport of sports) {
      const container = document.getElementById(`section-${sport.id}`);
      const headlinesDiv = container.querySelector('.headlines');
      const scoresDiv = container.querySelector('.scores');
      const betsDiv = container.querySelector('.bets');

      // Fetch headlines
      const headlines = await fetchHeadlines(sport.rss);

      headlinesDiv.innerHTML = '';
      headlines.forEach(h => {
        const span = document.createElement('span');
        span.className = 'headline-item';
        span.textContent = h;
        headlinesDiv.appendChild(span);
      });

      // Show scores
      scoresDiv.innerHTML = '';
      sport.scores.forEach(s => {
        const span = document.createElement('span');
        span.className = 'score-item';
        span.textContent = s;
        scoresDiv.appendChild(span);
      });

      // Show bets
      betsDiv.innerHTML = '';
      sport.bets.forEach(b => {
        const span = document.createElement('span');
        span.className = 'bet-item';
        span.textContent = b;
        betsDiv.appendChild(span);
      });
    }
  }

  // Scroll animation function
  function animateScroll(element, duration) {
    const totalWidth = element.scrollWidth;
    let start = null;

    function step(timestamp) {
      if (!start) start = timestamp;
      const elapsed = timestamp - start;
      // Calculate current scroll position (loops)
      const progress = (elapsed % duration) / duration;
      const x = -progress * totalWidth;
      element.style.transform = `translateX(${x}px)`;
      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }

  // Start scrolling animations on active section
  function startScrolling(section) {
    const scrollables = section.querySelectorAll('.scrolling-content');
    scrollables.forEach(el => {
      el.style.transform = 'translateX(0)';
      animateScroll(el, 30000); // 30 seconds for full scroll
    });
  }

  // Stop scrolling animations by resetting transform (simplest way)
  function stopScrolling(section) {
    const scrollables = section.querySelectorAll('.scrolling-content');
    scrollables.forEach(el => {
      el.style.transform = 'translateX(0)';
    });
  }

  // Cycle between sections with fade + scroll reset
  let currentIndex = 0;
  const fadeDuration = 1000; // ms

  function cycleSections() {
    const prevIndex = currentIndex;
    currentIndex = (currentIndex + 1) % sports.length;

    const prevSection = document.getElementById(`section-${sports[prevIndex].id}`);
    const nextSection = document.getElementById(`section-${sports[currentIndex].id}`);

    // Fade out previous
    prevSection.classList.remove('active');
    stopScrolling(prevSection);

  
  
    
      
     
   

  


  

 
